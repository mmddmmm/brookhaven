local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

-- GUI Ø§ØµÙ„ÛŒ
local mainGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
mainGui.Name = "MainGui"
mainGui.ResetOnSpawn = false

-- Ù„ÙˆØ¯ÛŒÙ†Ú¯
local loadingFrame = Instance.new("Frame", mainGui)
loadingFrame.Size = UDim2.new(0, 420, 0, 180)
loadingFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
loadingFrame.AnchorPoint = Vector2.new(0.5, 0.5)
loadingFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
loadingFrame.BackgroundTransparency = 0.2
Instance.new("UICorner", loadingFrame).CornerRadius = UDim.new(0, 12)

local stroke = Instance.new("UIStroke", loadingFrame)
stroke.Thickness = 3
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

task.spawn(function()
	while loadingFrame and loadingFrame.Parent do
		for i = 0, 255, 5 do
			stroke.Color = Color3.fromRGB(i, 255 - i, 255)
			task.wait(0.02)
		end
	end
end)

local title = Instance.new("TextLabel", loadingFrame)
title.Size = UDim2.new(1, 0, 0, 50)
title.Position = UDim2.new(0, 0, 0, 10)
title.Text = "ğŸš€ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ..."
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.BackgroundTransparency = 1

local progress = Instance.new("Frame", loadingFrame)
progress.Size = UDim2.new(0.9, 0, 0.15, 0)
progress.Position = UDim2.new(0.05, 0, 0.85, 0)
progress.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Instance.new("UICorner", progress).CornerRadius = UDim.new(0, 8)

local fill = Instance.new("Frame", progress)
fill.Size = UDim2.new(0, 0, 1, 0)
fill.BackgroundColor3 = Color3.fromRGB(0, 255, 100)
Instance.new("UICorner", fill).CornerRadius = UDim.new(0, 8)

TweenService:Create(fill, TweenInfo.new(2.5), {Size = UDim2.new(1, 0, 1, 0)}):Play()

-- Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ÛŒÙ†Ú¯
task.delay(3, function()
	TweenService:Create(loadingFrame, TweenInfo.new(0.6), {BackgroundTransparency = 1}):Play()
	task.wait(0.6)
	loadingFrame:Destroy()

	-- Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
	local bottomBarGui = Instance.new("ScreenGui", player.PlayerGui)
	bottomBarGui.Name = "BottomBar"
	bottomBarGui.ResetOnSpawn = false

	local bottomBar = Instance.new("Frame", bottomBarGui)
	bottomBar.Size = UDim2.new(0, 500, 0, 80)
	bottomBar.Position = UDim2.new(0.5, -250, 1, -90)
	bottomBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	Instance.new("UICorner", bottomBar).CornerRadius = UDim.new(0, 12)

	-- Ø¯Ú©Ù…Ù‡ Ø¢ÙˆØ§ØªØ§Ø± Ù¾Ù„ÛŒØ±
	local avatarBtn = Instance.new("ImageButton", bottomBar)
	avatarBtn.Size = UDim2.new(0, 60, 0, 60)
	avatarBtn.Position = UDim2.new(0, 20, 0.5, -30)
	avatarBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	avatarBtn.Image = Players:GetUserThumbnailAsync(player.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size60x60)
	Instance.new("UICorner", avatarBtn).CornerRadius = UDim.new(1, 0)

	-- Ø¯Ú©Ù…Ù‡ Real GUI
	local realBtn = Instance.new("TextButton", bottomBar)
	realBtn.Size = UDim2.new(0, 140, 0, 60)
	realBtn.Position = UDim2.new(0, 100, 0.5, -30)
	realBtn.Text = "ğŸ§© Real GUI"
	realBtn.Font = Enum.Font.GothamBold
	realBtn.TextSize = 20
	realBtn.TextColor3 = Color3.new(1, 1, 1)
	realBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	Instance.new("UICorner", realBtn).CornerRadius = UDim.new(0, 10)

	-- ØªØ§Ø¨Ø¹ Ø³Ø§Ø®Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø´Ù†Ø§ÙˆØ±
	local function createFloatingGui(titleText)
		local panel = Instance.new("ScreenGui", player.PlayerGui)
		panel.Name = "Custom_" .. titleText
		panel.ResetOnSpawn = false

		local frame = Instance.new("Frame", panel)
		frame.Size = UDim2.new(0, 400, 0, 300)
		frame.Position = UDim2.new(0.5, 0, 1, -150)
		frame.AnchorPoint = Vector2.new(0.5, 1)
		frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		frame.BackgroundTransparency = 0.2
		frame.Active = true
		frame.Draggable = true
		Instance.new("UIStroke", frame).Color = Color3.fromRGB(255, 0, 255)
		Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

		frame:TweenPosition(UDim2.new(0.5, 0, 0.5, 0), "Out", "Bounce", 1, true)
        local title = Instance.new("TextLabel", frame)
		title.Size = UDim2.new(1, -80, 0, 40)
		title.Position = UDim2.new(0, 10, 0, 0)
		title.Text = titleText
		title.Font = Enum.Font.GothamBold
		title.TextSize = 24
		title.TextColor3 = Color3.new(1, 1, 1)
		title.BackgroundTransparency = 1
		title.TextXAlignment = Enum.TextXAlignment.Left

		local closeBtn = Instance.new("TextButton", frame)
		closeBtn.Size = UDim2.new(0, 30, 0, 30)
		closeBtn.Position = UDim2.new(1, -35, 0, 5)
		closeBtn.Text = "Ã—"
		closeBtn.Font = Enum.Font.GothamBold
		closeBtn.TextSize = 20
		closeBtn.TextColor3 = Color3.new(1, 1, 1)
		closeBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)

		local minimizeBtn = Instance.new("TextButton", frame)
		minimizeBtn.Size = UDim2.new(0, 30, 0, 30)
		minimizeBtn.Position = UDim2.new(1, -70, 0, 5)
		minimizeBtn.Text = "â†”"
		minimizeBtn.Font = Enum.Font.GothamBold
		minimizeBtn.TextSize = 20
		minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
		minimizeBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)

		local isMinimized = false
		minimizeBtn.MouseButton1Click:Connect(function()
			if not isMinimized then
				frame:TweenSize(UDim2.new(0, 400, 0, 50), "Out", "Quad", 0.5, true)
				isMinimized = true
			else
				frame:TweenSize(UDim2.new(0, 400, 0, 300), "Out", "Quad", 0.5, true)
				isMinimized = false
			end
		end)

		closeBtn.MouseButton1Click:Connect(function()
			panel:Destroy()
		end)

		-- ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…
		local function showMessage(text, duration)
			duration = duration or 2
			local msg = Instance.new("TextLabel", panel)
			msg.Size = UDim2.new(0, 220, 0, 30)
			msg.Position = UDim2.new(0.5, -110, 1, -10)
			msg.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
			msg.BackgroundTransparency = 0.2
			msg.Text = text
			msg.Font = Enum.Font.GothamBold
			msg.TextSize = 16
			msg.TextColor3 = Color3.new(1, 1, 1)
			msg.AnchorPoint = Vector2.new(0.5, 1)
			Instance.new("UICorner", msg).CornerRadius = UDim.new(0, 8)
			task.delay(duration, function()
				msg:Destroy()
			end)
		end

		-- ØªØ§Ø¨Ø¹ Ø³Ø§Ø®Øª Ø¯Ú©Ù…Ù‡ Ø¨Ø§ Ú¯ÙˆØ´Ù‡â€ŒÚ¯Ø±Ø¯ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯
		local function createActionButton(text, posY, actionText, printText)
			local btn = Instance.new("TextButton", frame)
			btn.Size = UDim2.new(0, 180, 0, 40)
			btn.Position = UDim2.new(0, 20, 0, posY)
			btn.Text = text
			btn.Font = Enum.Font.Gotham
			btn.TextSize = 18
			btn.TextColor3 = Color3.new(1, 1, 1)
			btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)

			btn.MouseButton1Click:Connect(function()
				print(printText)
				showMessage(actionText)
			end)
		end

		-- Ø³Ø§Ø®Øª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
		createActionButton("Fly", 60, "Fly successfully run!", "loadstring(game:HttpGet('https://raw.githubusercontent.com/mmddmmm/brookhaven/refs/heads/main/Realgui/fly.txt'))()")
		createActionButton("TP Tools", 110, "TP Tools successfully run!", "loadstring(game:HttpGet('https://raw.githubusercontent.com/mmddmmm/brookhaven/refs/heads/main/Realgui/tp%20tools.txt'))()")
		createActionButton("Admin Panel", 160, "Admin Panel successfully run!", "loadstring(game:HttpGet('https://raw.githubusercontent.com/mmddmmm/brookhaven/refs/heads/main/Realgui/adminpanel.txt'))()")

		return panel
	end

	-- ØªØ§Ø¨Ø¹ Ø¨Ø³ØªÙ† ÙÙ‚Ø· Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§ÙˆØ±
	local function closeFloatingGUIs()
		for _, gui in pairs(player.PlayerGui:GetChildren()) do
			if gui:IsA("ScreenGui") and gui.Name:match("^Custom_") then
				gui:Destroy()
			end
		end
	end

	-- Ø§ØªØµØ§Ù„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
	realBtn.MouseButton1Click:Connect(function()
		closeFloatingGUIs()
		createFloatingGui("ğŸ® Real GUI Panel")
	end)

	avatarBtn.MouseButton1Click:Connect(function()
		closeFloatingGUIs()
		createFloatingGui("ğŸ‘¤ Player Info")
	end)

	-- Ø¯Ø³ØªÙˆØ± Ú†Øª Ø¨Ø±Ø§ÛŒ Ø¨Ø³ØªÙ† Ú©Ø§Ù…Ù„ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ
	player.Chatted:Connect(function(msg)
		if msg:lower() == "/closegui" then
			for _, gui in pairs(player.PlayerGui:GetChildren()) do
				if gui:IsA("ScreenGui") and (
					gui.Name == "MainGui" or
					gui.Name == "BottomBar" or
					gui.Name:match("^Custom_")
			 ) then
					gui:Destroy()
				end
			end
		end
	end)
end)
